version: '3.8'

services:
  # Chỉ chạy fe-dashboard trong Docker
  # Backend, Python service, PostgreSQL, Redis chạy local như bình thường
  
  fe-dashboard:
    image: ${DOCKER_USERNAME:-nguyenthanhduyznake}/ai-meeting-dashboard:${VERSION:-latest}
    container_name: ai-meeting-dashboard
    restart: unless-stopped
    ports:
      - "4000:80"
    environment:
      # Dashboard sẽ gọi API qua host.docker.internal để reach backend local
      REACT_APP_API_URL: ${REACT_APP_API_URL:-http://host.docker.internal:3333}
    extra_hosts:
      - "host.docker.internal:host-gateway"
    networks:
      - ai-meeting-network

networks:
  ai-meeting-network:
    driver: bridge

